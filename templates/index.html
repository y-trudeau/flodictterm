<script src="https://code.jquery.com/jquery-1.10.2.js"></script>

{% if client_list %}
Client: <select id="selclient" name="client">
    {% for Client in client_list %}
        <option value="{{ Client.id }}">{{ Client.nom_client }}</option>
    {% endfor %}
    </select>
{% else %}
    <p>Aucun client d√©fini.</p>
{% endif %}
Domaine: <select id="seldomaine" name="domaine"></select>
<div></div>

<script>
$( "#selclient" )
  .change(function () {
    var str = "";
    var client = "";
    $( "#selclient option:selected" ).each(function() {
      str += $( this ).val() + " :" + $( this ).text() ;
      client = $( this ).val();
    });
    
    json_url = "terme/Domaine/" + client + "/";
    console.log("Acces a: " + json_url);
    $.getJSON(json_url, function( data ) {
      $.each( data, function( key, domaine ) {
        console.log("json: key = " + key + " id = " + domaine.id + " domaine = " + domaine.nom_domaine);
        str += domaine.id + ":" + domaine.nom_domaine + "\n";
        $('#seldomaine').append($('<option>', {
            value: domaine.id,
            text: domaine.now_domaine
         }));
      });
      console.log(str);
      $( "div" ).text( str );
    });
   });
$( "#selclient" ).change();
</script>
